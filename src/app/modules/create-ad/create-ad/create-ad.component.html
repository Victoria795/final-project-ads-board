<h2>Новое объявление</h2>
<form [formGroup]="form" (ngSubmit)="createAd()" >
    <div class="grid">
        <div class="col-4">
            <label class="required">Выберите категорию</label>
            <p-cascadeSelect
            class="input"
            [options]="categories"
            optionLabel="name"
            optionGroupLabel="name"
            [optionGroupChildren]="['child']"
            placeholder="Нажмите, чтобы выбрать"
            formControlName="category"
            [ngClass]="{'input-invalid': form.controls['category'].invalid && form.controls['category'].touched}">
            </p-cascadeSelect>
        </div>
    </div>
    <div class="grid">
        <div class="col-8">
            <label class="required">Название объявления</label>
            <input
            class="input" 
            type="text" 
            pInputText 
            placeholder="Что хотите продать?"
            formControlName="name"/>
            <div *ngIf="form.controls['name'].errors?.['minlength']" class="warning">
                Имя должно содержать не менее 3 символов
            </div>
            <div *ngIf="form.controls['name'].errors?.['maxlength']" class="warning">
                Имя должно содержать не более 32 символов
            </div>
        </div>
    </div>
    <div class="grid">
        <div class="col-8">
            <label>Описание</label>
            <textarea
            class="input"  
            rows="5" 
            cols="30" 
            pInputTextarea
            placeholder="Расскажите подробнее о товаре или услуге"
            formControlName="description"></textarea>
            <div *ngIf="form.controls['description'].errors?.['minlength']" class="warning">
                Описание должно содержать не менее 10 символов
            </div>
            <div *ngIf="form.controls['description'].errors?.['maxlength']" class="warning">
                Описание должно содержать не более 100 символов
            </div>
        </div>
    </div>
    <div class="grid">
        <div class="col-8">
            <label class="required">Адрес(место проведения сделки)</label>
            <input 
            class="input" 
            type="text" 
            pInputText 
            placeholder="Начните вводить адрес"
            id="address"
            formControlName="address"/>
            <div *ngIf="form.controls['address'].errors?.['maxlength']" class="warning">
                Адрес должен содержать не более 250 символов
            </div>
        </div>
    </div>
    <app-add-image 
    (upload)="onUpload($event)"
    class="col-8 add-image">
    </app-add-image>
    <div class="grid">
        <div class="col-3">
            <label>Цена</label>
            <p-inputNumber
            class="input" 
            formControlName="price"
            placeholder="0 ₽"
            mode="currency"
            currency="RUB"
            currencyDisplay="symbol"
            locale="ru-RU"
            formControlName="price"
          ></p-inputNumber>
        </div>
    </div>
    <div>
        <button 
        pButton
        type="submit"
        >Разместить объявление</button>
        <div class="submit-warning">
            Нажимая кнопку «Разместить объявление» <br>
            Вы соглашаетесь с <a>правилами площадки</a>
        </div>
    </div>
</form>
